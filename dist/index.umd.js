!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).HealsideEmotionSDK={},e.React)}(this,function(e,t){"use strict";const n={neutral:{background:"#F8FAFB",accent:"#14B8A6",text:"#1F2937",secondary:"#6B7280",gradient:"linear-gradient(135deg, #F8FAFB 0%, #E5E7EB 100%)"},happy:{background:"#FFFBEB",accent:"#EAB308",text:"#713F12",secondary:"#A16207",gradient:"linear-gradient(135deg, #FFFBEB 0%, #FEF3C7 100%)"},excited:{background:"#FFF7ED",accent:"#F97316",text:"#7C2D12",secondary:"#C2410C",gradient:"linear-gradient(135deg, #FFF7ED 0%, #FFEDD5 100%)"},stressed:{background:"#FEF2F2",accent:"#EF4444",text:"#7F1D1D",secondary:"#B91C1C",gradient:"linear-gradient(135deg, #FEF2F2 0%, #FEE2E2 100%)"},anxious:{background:"#EFF6FF",accent:"#3B82F6",text:"#1E3A8A",secondary:"#1D4ED8",gradient:"linear-gradient(135deg, #EFF6FF 0%, #DBEAFE 100%)"},sad:{background:"#EEF2FF",accent:"#6366F1",text:"#312E81",secondary:"#4338CA",gradient:"linear-gradient(135deg, #EEF2FF 0%, #E0E7FF 100%)"},anger:{background:"#FFF1F2",accent:"#BE123C",text:"#881337",secondary:"#9F1239",gradient:"linear-gradient(135deg, #FFF1F2 0%, #FFE4E6 100%)"},fear:{background:"#FAF5FF",accent:"#7C3AED",text:"#4C1D95",secondary:"#6D28D9",gradient:"linear-gradient(135deg, #FAF5FF 0%, #EDE9FE 100%)"},surprise:{background:"#FFFBEB",accent:"#F59E0B",text:"#78350F",secondary:"#B45309",gradient:"linear-gradient(135deg, #FFFBEB 0%, #FEF3C7 100%)"},meditation:{background:"#ECFDF5",accent:"#10B981",text:"#064E3B",secondary:"#047857",gradient:"linear-gradient(135deg, #ECFDF5 0%, #D1FAE5 100%)"},fatigue:{background:"#F5F5F4",accent:"#78716C",text:"#292524",secondary:"#57534E",gradient:"linear-gradient(135deg, #F5F5F4 0%, #E7E5E4 100%)"},depression:{background:"#F9FAFB",accent:"#4B5563",text:"#111827",secondary:"#374151",gradient:"linear-gradient(135deg, #F9FAFB 0%, #F3F4F6 100%)"}},s={neutral:"ÌèâÏò®",happy:"ÌñâÎ≥µ",excited:"ÏÑ§Î†ò",stressed:"Ïä§Ìä∏Î†àÏä§",anxious:"Î∂àÏïà",sad:"Ïä¨Ìîî",anger:"ÌôîÎÇ®",fear:"ÎëêÎ†§ÏõÄ",surprise:"ÎÜÄÎûå",meditation:"Î™ÖÏÉÅ",fatigue:"ÌîºÎ°ú",depression:"Ïö∞Ïö∏"};function r(e){return n[e]||n.neutral}const i={requiredConsecutiveCount:3,maxTimeBetweenJudgments:1e4,minConfidence:.7,minimumSwitchIntervalMs:5e3,historyRetentionTime:3e5,oppositeEmotionExtraCount:2},o=[["happy","sad"],["excited","depression"],["anger","fear"],["stressed","meditation"],["anxious","meditation"]],a=[["happy","excited"],["sad","depression"],["stressed","anxious"],["anger","stressed"]];class c{constructor(e={}){this.config={...i,...e},this.emotionCounts={},this.currentStableEmotion="neutral",this.lastSwitchTimestamp=0,this.transitionHistory=[],console.info("[Hysteresis:init]",{requiredConsecutiveCount:this.config.requiredConsecutiveCount,minimumSwitchIntervalMs:this.config.minimumSwitchIntervalMs,minConfidence:this.config.minConfidence})}processEmotionJudgment(e,t,n=Date.now()){if(t<this.config.minConfidence)return this.createResult(!1,`Low confidence: ${t} < ${this.config.minConfidence}`);const s=n-this.lastSwitchTimestamp;if(s<this.config.minimumSwitchIntervalMs)return this.createResult(!1,`Too soon: ${s}ms < ${this.config.minimumSwitchIntervalMs}ms`);this.updateEmotionCount(e,t,n),this.cleanupOldCounts(n);const r=this.getRequiredCount(this.currentStableEmotion,e),i=this.emotionCounts[e];if(i&&i.consecutiveCount>=r){const s=this.currentStableEmotion;this.currentStableEmotion=e,this.lastSwitchTimestamp=n,this.recordTransition(s,e,n,t),this.emotionCounts[e].consecutiveCount=0;const i=this.isOppositeEmotion(s,e)?"OPPOSITE":this.isSimilarEmotion(s,e)?"SIMILAR":"NORMAL";return this.createResult(!0,void 0,`Transition: ${s} ‚Üí ${e} [${i}] (count: ${r})`)}return this.createResult(!1,`Not enough consecutive: ${i?.consecutiveCount||0} < ${r}`)}getRequiredCount(e,t){return this.isOppositeEmotion(e,t)?this.config.requiredConsecutiveCount+this.config.oppositeEmotionExtraCount:this.isSimilarEmotion(e,t)?2:this.config.requiredConsecutiveCount}isOppositeEmotion(e,t){return o.some(([n,s])=>n===e&&s===t||n===t&&s===e)}isSimilarEmotion(e,t){return a.some(n=>n.includes(e)&&n.includes(t))}updateEmotionCount(e,t,n){this.emotionCounts[e]||(this.emotionCounts[e]={consecutiveCount:0,lastTimestamp:0,confidence:0});const s=this.emotionCounts[e];n-s.lastTimestamp<=this.config.maxTimeBetweenJudgments?s.consecutiveCount++:s.consecutiveCount=1,s.lastTimestamp=n,s.confidence=t}cleanupOldCounts(e){Object.keys(this.emotionCounts).forEach(t=>{const n=this.emotionCounts[t];e-n.lastTimestamp>this.config.maxTimeBetweenJudgments&&(n.consecutiveCount=0)})}recordTransition(e,t,n,s){this.transitionHistory.push({from:e,to:t,timestamp:n,confidence:s});const r=n-this.config.historyRetentionTime;this.transitionHistory=this.transitionHistory.filter(e=>e.timestamp>r)}createResult(e,t,n){return{shouldTransition:e,stableEmotion:this.currentStableEmotion,consecutiveCount:this.emotionCounts[this.currentStableEmotion]?.consecutiveCount||0,debugInfo:{allCounts:{...this.emotionCounts},transitionReason:n,blockedReason:t}}}getStableEmotion(){return this.currentStableEmotion}getTransitionHistory(){return[...this.transitionHistory]}updateConfig(e){this.config={...this.config,...e}}reset(){this.emotionCounts={},this.currentStableEmotion="neutral",this.lastSwitchTimestamp=0,this.transitionHistory=[]}getStabilityIndex(){const e=this.transitionHistory.filter(e=>Date.now()-e.timestamp<6e4).length,t=2*this.config.requiredConsecutiveCount;return Math.max(0,1-e/t)}}const l={trackBehavior:!0,trackText:!0,autoTheme:!0,enableUI:!0,debug:!1,hysteresis:{consecutiveCount:3,minInterval:5e3,minConfidence:.7},weights:{behavior:.4,text:.6}},d={emotion:"neutral",confidence:.5,scores:{neutral:1},source:"auto",timestamp:(new Date).toISOString()};class u{constructor(){this.config=l,this.state={...d},this.subscribers=new Set,this.hysteresis=new c,this.enabled=!1,this.behaviorMetrics={mouseSpeed:0,clickFrequency:0,scrollSpeed:0,dwellTime:0,hesitationTime:0}}init(e){this.config={...l,...e},this.enabled=!0,this.config.hysteresis&&(this.hysteresis=new c({requiredConsecutiveCount:this.config.hysteresis.consecutiveCount||3,minimumSwitchIntervalMs:this.config.hysteresis.minInterval||5e3,minConfidence:this.config.hysteresis.minConfidence||.7})),this.log("SDK initialized",this.config)}destroy(){this.enabled=!1,this.subscribers.clear(),this.state={...d},this.log("SDK destroyed")}getEmotion(){return this.state.emotion}getConfidence(){return this.state.confidence}getState(){return{...this.state}}setEmotion(e){this.updateState({emotion:e,confidence:1,scores:{[e]:1},source:"manual",timestamp:(new Date).toISOString()})}updateEmotionFromAnalysis(e,t,n,s){if(!this.enabled)return;const r=this.hysteresis.processEmotionJudgment(e,t,Date.now());r.shouldTransition?this.updateState({emotion:r.stableEmotion,confidence:t,scores:n,source:s,timestamp:(new Date).toISOString()}):this.log("Emotion transition blocked by hysteresis",{attempted:e,current:this.state.emotion,reason:r.debugInfo.blockedReason})}updateState(e){const t=this.state.emotion;this.state=e,this.config.onEmotionChange&&t!==e.emotion&&this.config.onEmotionChange(e),this.notifySubscribers(),this.config.autoTheme&&this.applyTheme(),this.log("State updated",e)}subscribe(e){return this.subscribers.add(e),e(this.state),()=>{this.subscribers.delete(e)}}notifySubscribers(){this.subscribers.forEach(e=>{try{e(this.state)}catch(e){this.log("Subscriber error",e)}})}getProductScore(e){return.5+.3*Math.random()}getProductScores(e){return e.map(e=>({productId:e,score:this.getProductScore(e),matchReason:this.getMatchReason(this.state.emotion),emotionTags:this.getEmotionTags(this.state.emotion)}))}getMatchReason(e){return{neutral:"ÏùºÏÉÅÏóê ÌôúÎ†•ÏùÑ",happy:"Í∏∞ÏÅ®ÏùÑ ÎçîÌïòÎäî",excited:"ÏÑ§Î†òÏùÑ Ïú†ÏßÄÌïòÎäî",stressed:"Ïä§Ìä∏Î†àÏä§ ÏôÑÌôîÏóê",anxious:"ÎßàÏùåÏùÑ ÏßÑÏ†ïÏãúÌÇ§Îäî",sad:"ÏúÑÎ°úÍ∞Ä ÎêòÎäî",anger:"ÌèâÏò®ÏùÑ Ï∞æÏïÑÏ£ºÎäî",fear:"ÏïàÏ†ïÍ∞êÏùÑ Ï£ºÎäî",surprise:"ÌäπÎ≥ÑÌïú ÏàúÍ∞ÑÏùÑ ÏúÑÌïú",meditation:"Î™ÖÏÉÅÏóê Ïñ¥Ïö∏Î¶¨Îäî",fatigue:"ÌîºÎ°ú ÌöåÎ≥µÏóê",depression:"ÎßàÏùåÏùÑ Î∞ùÌòÄÏ£ºÎäî"}[e]||"Ï∂îÏ≤ú"}getEmotionTags(e){return{neutral:["ÏùºÏÉÅ","Î∞∏Îü∞Ïä§"],happy:["Í∏∞ÏÅ®","ÏóêÎÑàÏßÄ"],excited:["ÏÑ§Î†ò","ÌôúÎ†•"],stressed:["Î¶¥Î†âÏä§","ÏßÑÏ†ï"],anxious:["ÏïàÏ†ï","ÌèâÏò®"],sad:["ÏúÑÎ°ú","Îî∞ÎúªÌï®"],anger:["Ïø®Îã§Ïö¥","ÌèâÌôî"],fear:["ÏïàÏ†Ñ","Î≥¥Ìò∏"],surprise:["ÌäπÎ≥Ñ","ÏÑ†Î¨º"],meditation:["Î™ÖÏÉÅ","ÏßëÏ§ë"],fatigue:["ÌöåÎ≥µ","Ìú¥Ïãù"],depression:["Ìù¨Îßù","Îπõ"]}[e]||[]}getTheme(){return n[this.state.emotion]||n.neutral}applyTheme(){if("undefined"==typeof document)return;const e=this.getTheme(),t=document.documentElement;t.style.setProperty("--emotion-bg",e.background),t.style.setProperty("--emotion-accent",e.accent),t.style.setProperty("--emotion-text",e.text),t.style.setProperty("--emotion-secondary",e.secondary),t.style.setProperty("--emotion-gradient",e.gradient),document.body.classList.remove(...Object.keys(n).map(e=>`emotion-${e}`)),document.body.classList.add(`emotion-${this.state.emotion}`),this.log("Theme applied",e)}getBehaviorMetrics(){return{...this.behaviorMetrics}}updateBehaviorMetrics(e){this.behaviorMetrics={...this.behaviorMetrics,...e}}enable(){this.enabled=!0,this.log("SDK enabled")}disable(){this.enabled=!1,this.log("SDK disabled")}isEnabled(){return this.enabled}async analyzeText(e){if(!this.enabled)return this.state;try{const t=this.dummyTextAnalysis(e);return this.updateEmotionFromAnalysis(t,.8,{[t]:.8,neutral:.2},"text"),this.state}catch(e){return this.log("Text analysis error",e),this.config.onError&&this.config.onError(e),this.state}}dummyTextAnalysis(e){const t=e.toLowerCase();return t.includes("Ïä§Ìä∏Î†àÏä§")||t.includes("stress")||t.includes("ÌûòÎì§")?"stressed":t.includes("Î∂àÏïà")||t.includes("anxious")||t.includes("Í±±Ï†ï")?"anxious":t.includes("Ïä¨")||t.includes("sad")||t.includes("Ïö∞Ïö∏")?"sad":t.includes("ÌñâÎ≥µ")||t.includes("happy")||t.includes("Í∏∞ÏÅò")?"happy":t.includes("ÌîºÍ≥§")||t.includes("tired")||t.includes("ÏßÄÏ≥ê")?"fatigue":"neutral"}log(e,t){this.config.debug&&console.log(`[Healside SDK] ${e}`,t||"")}}const m=new u;"undefined"!=typeof window&&(window.__HEALSIDE_SDK__=m);const h={slow:100,fast:500,veryFast:800},p={fast:1e3,veryFast:2e3},g={low:5,normal:15,veryHigh:50},f={short:1500,medium:3e3,long:5e3},x={trackMouse:!0,trackScroll:!0,trackClicks:!0,trackKeyboard:!1,sampleInterval:100,historyRetention:6e4,debug:!1};class y{constructor(e={}){this.config={...x,...e},this.isTracking=!1,this.mouseHistory=[],this.scrollHistory=[],this.clickHistory=[],this.keystrokeHistory=[],this.metrics={mouseSpeed:0,clickFrequency:0,scrollSpeed:0,dwellTime:0,hesitationTime:0},this.boundHandlers={},this.sampleTimer=null,this.cleanupTimer=null}start(){this.isTracking||"undefined"==typeof window||(this.isTracking=!0,this.setupEventListeners(),this.startSampling(),this.startCleanup(),this.log("Behavior tracking started"))}stop(){this.isTracking&&(this.isTracking=!1,this.removeEventListeners(),this.stopSampling(),this.stopCleanup(),this.log("Behavior tracking stopped"))}reset(){this.mouseHistory=[],this.scrollHistory=[],this.clickHistory=[],this.keystrokeHistory=[],this.metrics={mouseSpeed:0,clickFrequency:0,scrollSpeed:0,dwellTime:0,hesitationTime:0}}setupEventListeners(){this.config.trackMouse&&(this.boundHandlers.mouseMove=this.handleMouseMove.bind(this),window.addEventListener("mousemove",this.boundHandlers.mouseMove,{passive:!0})),this.config.trackScroll&&(this.boundHandlers.scroll=this.handleScroll.bind(this),window.addEventListener("scroll",this.boundHandlers.scroll,{passive:!0})),this.config.trackClicks&&(this.boundHandlers.click=this.handleClick.bind(this),window.addEventListener("click",this.boundHandlers.click,{passive:!0})),this.config.trackKeyboard&&(this.boundHandlers.keydown=this.handleKeydown.bind(this),window.addEventListener("keydown",this.boundHandlers.keydown,{passive:!0}))}removeEventListeners(){this.boundHandlers.mouseMove&&window.removeEventListener("mousemove",this.boundHandlers.mouseMove),this.boundHandlers.scroll&&window.removeEventListener("scroll",this.boundHandlers.scroll),this.boundHandlers.click&&window.removeEventListener("click",this.boundHandlers.click),this.boundHandlers.keydown&&window.removeEventListener("keydown",this.boundHandlers.keydown),this.boundHandlers={}}handleMouseMove(e){this.mouseHistory.push({x:e.clientX,y:e.clientY,timestamp:Date.now()})}handleScroll(){this.scrollHistory.push({y:window.scrollY,timestamp:Date.now()})}handleClick(e){const t=e.target;this.clickHistory.push({x:e.clientX,y:e.clientY,timestamp:Date.now(),target:t?.tagName||"unknown"})}handleKeydown(e){const t=e.target;["password","credit","card","cvv"].some(e=>t?.type?.toLowerCase().includes(e)||t?.name?.toLowerCase().includes(e))||this.keystrokeHistory.push({key:1===e.key.length?"*":e.key,timestamp:Date.now()})}startSampling(){this.sampleTimer=setInterval(()=>{this.calculateMetrics()},this.config.sampleInterval)}stopSampling(){this.sampleTimer&&(clearInterval(this.sampleTimer),this.sampleTimer=null)}startCleanup(){this.cleanupTimer=setInterval(()=>{this.cleanupOldData()},1e4)}stopCleanup(){this.cleanupTimer&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null)}cleanupOldData(){const e=Date.now()-(this.config.historyRetention||6e4);this.mouseHistory=this.mouseHistory.filter(t=>t.timestamp>e),this.scrollHistory=this.scrollHistory.filter(t=>t.timestamp>e),this.clickHistory=this.clickHistory.filter(t=>t.timestamp>e),this.keystrokeHistory=this.keystrokeHistory.filter(t=>t.timestamp>e)}calculateMetrics(){const e=Date.now(),t=1e4;this.metrics.mouseSpeed=this.calculateMouseSpeed(e,t),this.metrics.scrollSpeed=this.calculateScrollSpeed(e,t),this.metrics.clickFrequency=this.calculateClickFrequency(e,t),this.metrics.dwellTime=this.calculateDwellTime(),this.metrics.hesitationTime=this.calculateHesitationTime(e)}calculateMouseSpeed(e,t){const n=this.mouseHistory.filter(n=>n.timestamp>e-t);if(n.length<2)return 0;let s=0;for(let e=1;e<n.length;e++){const t=n[e].x-n[e-1].x,r=n[e].y-n[e-1].y;s+=Math.sqrt(t*t+r*r)}const r=(n[n.length-1].timestamp-n[0].timestamp)/1e3;return r>0?s/r:0}calculateScrollSpeed(e,t){const n=this.scrollHistory.filter(n=>n.timestamp>e-t);if(n.length<2)return 0;let s=0;for(let e=1;e<n.length;e++)s+=Math.abs(n[e].y-n[e-1].y);const r=(n[n.length-1].timestamp-n[0].timestamp)/1e3;return r>0?s/r:0}calculateClickFrequency(e,t){const n=this.clickHistory.filter(n=>n.timestamp>e-t),s=t/6e4;return n.length/s}calculateDwellTime(){const e=[...this.mouseHistory,...this.scrollHistory,...this.clickHistory];if(0===e.length)return 0;const t=Math.min(...e.map(e=>e.timestamp));return Date.now()-t}calculateHesitationTime(e){if(0===this.clickHistory.length)return 0;return e-Math.max(...this.clickHistory.map(e=>e.timestamp))}inferEmotion(){const e=this.getMetrics(),t=[];let n="neutral",s=.5;const r=[{emotion:"stressed",score:this.detectStressSignals(e,t)},{emotion:"fatigue",score:this.detectFatigueSignals(e,t)},{emotion:"excited",score:this.detectExcitementSignals(e,t)}],i=r.reduce((e,t)=>t.score>e.score?t:e,r[0]);return i.score>.3&&(n=i.emotion,s=Math.min(.9,.5+i.score)),this.log("Emotion inferred",{emotion:n,confidence:s,reasons:t,metrics:e}),{emotion:n,confidence:s,reasons:t}}detectStressSignals(e,t){let n=0;return e.mouseSpeed>h.veryFast?(n+=.3,t.push("Îπ†Î•∏ ÎßàÏö∞Ïä§ ÏõÄÏßÅÏûÑ Í∞êÏßÄ")):e.mouseSpeed>h.fast&&(n+=.15),e.scrollSpeed>p.veryFast?(n+=.3,t.push("Í∏âÌïú Ïä§ÌÅ¨Î°§ Í∞êÏßÄ")):e.scrollSpeed>p.fast&&(n+=.15),e.clickFrequency>g.veryHigh&&(n+=.25,t.push("ÎπàÎ≤àÌïú ÌÅ¥Î¶≠ Í∞êÏßÄ")),Math.min(1,n)}detectFatigueSignals(e,t){let n=0;return e.mouseSpeed<h.slow&&e.mouseSpeed>0&&(n+=.2,t.push("ÎäêÎ¶∞ ÏõÄÏßÅÏûÑ Í∞êÏßÄ")),e.hesitationTime>f.long?(n+=.3,t.push("Í∏¥ ÎßùÏÑ§ÏûÑ ÏãúÍ∞Ñ")):e.hesitationTime>f.medium&&(n+=.15),e.dwellTime>12e4&&e.clickFrequency<g.low&&(n+=.2,t.push("ÎÇÆÏùÄ ÌôúÎèô ÏàòÏ§Ä")),Math.min(1,n)}detectExcitementSignals(e,t){let n=0;return e.mouseSpeed>h.fast&&e.mouseSpeed<h.veryFast&&(n+=.2),e.clickFrequency>g.normal&&e.clickFrequency<g.veryHigh&&(n+=.2,t.push("ÌôúÎ∞úÌïú ÌÉêÏÉâ Í∞êÏßÄ")),e.hesitationTime<f.short&&e.hesitationTime>0&&(n+=.15,t.push("Îπ†Î•∏ Í≤∞Ï†ï")),Math.min(1,n)}getMetrics(){return{...this.metrics}}getRawData(){return{mouse:[...this.mouseHistory],clicks:[...this.clickHistory],scroll:[...this.scrollHistory],keystrokes:[...this.keystrokeHistory]}}isActive(){return this.isTracking}log(e,t){this.config.debug&&console.log(`[BehaviorTracker] ${e}`,t||"")}}const b={neutral:["Í¥úÏ∞Æ","Î≥¥ÌÜµ","Í∑∏ÎÉ•","ÏùºÎ∞ò","ÌèâÎ≤î"],happy:["ÌñâÎ≥µ","Í∏∞ÏÅò","Ï¢ãÏïÑ","Ï¶êÍ±∞","Ïã†ÎÇò","ÏõÉ","ÏÇ¨Îûë","Í∞êÏÇ¨","ÏµúÍ≥†","ÏôÑÎ≤Ω"],excited:["ÏÑ§Î†à","Ìù•Î∂Ñ","Í∏∞ÎåÄ","ÎëêÍ∑º","Ïã†Í∏∞","ÎÜÄÎùº","ÎåÄÎ∞ï","ÏôÄÏö∞","ÏßúÎ¶ø"],stressed:["Ïä§Ìä∏Î†àÏä§","ÌûòÎì§","ÏßÄÏπò","ÏßúÏ¶ù","ÎãµÎãµ","ÎØ∏Ïπò","Ï£ΩÍ≤†","ÎÑàÎ¨¥"],anxious:["Î∂àÏïà","Í±±Ï†ï","Ï¥àÏ°∞","Í∏¥Ïû•","Î¨¥ÏÑú","ÎëêÎ†§","Îñ®Î¶¨","Ï°∞ÎßàÏ°∞Îßà"],sad:["Ïä¨ÌîÑ","Ïö∞Ïö∏","ÎààÎ¨º","ÏïÑÌîÑ","Ïô∏Î°ú","Ïì∏Ïì∏","Í∑∏Î¶¨","ÌóàÏ†Ñ","ÏÑúÍ∏Ä"],anger:["ÌôîÎÇò","ÏßúÏ¶ù","Ïó¥Î∞õ","Îπ°Ïπò","ÎØ∏Ïõå","Ïã´Ïñ¥","Î∂ÑÎÖ∏","ÏñµÏö∏"],fear:["Î¨¥ÏÑú","ÎëêÎ†§","Í≥µÌè¨","Í≤ÅÎÇò","Îñ®Î¶¨","Î∂àÏïà"],surprise:["ÎÜÄÎùº","ÍπúÏßù","Ìóê","ÎåÄÎ∞ï","ÎØøÍ∏∞ÏßÄ","Ïñ¥Î®∏","ÏÑ∏ÏÉÅÏóê"],meditation:["Î™ÖÏÉÅ","ÌèâÌôî","Í≥†Ïöî","Ï∞®Î∂Ñ","ÏßëÏ§ë","Ìò∏Ìù°","ÎßàÏùå"],fatigue:["ÌîºÍ≥§","Ï°∏Î¶¨","ÏßÄÏπò","ÌûòÎì§","ÎÖπÏ¥à","Í∏∞ÏßÑÎß•ÏßÑ","Ïâ¨Í≥†Ïã∂"],depression:["Ïö∞Ïö∏","Î¨¥Í∏∞Î†•","ÏùòÏöï","ÏïîÎã¥","Ï†àÎßù","Ìè¨Í∏∞","ÌûòÏóÜ"]},v={neutral:["okay","fine","normal","regular","average"],happy:["happy","joy","glad","love","great","wonderful","amazing","thank"],excited:["excited","thrilled","eager","can't wait","wow","awesome"],stressed:["stress","pressure","overwhelm","too much","can't handle"],anxious:["anxious","worry","nervous","scared","afraid","uncertain"],sad:["sad","cry","tear","miss","lonely","heartbreak","depressed"],anger:["angry","mad","furious","hate","annoyed","frustrated"],fear:["fear","scared","terrified","panic","horror"],surprise:["surprise","shock","unexpected","omg","wow","unbelievable"],meditation:["peace","calm","meditate","mindful","serene","tranquil"],fatigue:["tired","exhausted","sleepy","drained","worn out"],depression:["depressed","hopeless","empty","numb","give up"]},k=["Îß§Ïö∞","ÎÑàÎ¨¥","Ï†ïÎßê","ÏßÑÏßú","ÏôÑÏ†Ñ","ÏóÑÏ≤≠","very","really","so","extremely"],w=["Ï°∞Í∏à","ÏïΩÍ∞Ñ","ÏÇ¥Ïßù","a bit","slightly","somewhat"],j={apiEndpoint:"/api/emotion/analyze-text",useLocalAnalysis:!0,language:"auto",debug:!1};class E{constructor(e={}){this.config={...j,...e}}async analyze(e){if(!e||0===e.trim().length)return this.getDefaultResult();const t=this.preprocessText(e),n=this.detectLanguage(t);if(this.config.apiEndpoint)try{const e=await this.analyzeWithAPI(t,n);return this.log("API analysis result",e),e}catch(e){this.log("API analysis failed, falling back to local",e)}if(this.config.useLocalAnalysis){const e=this.analyzeLocally(t,n);return this.log("Local analysis result",e),e}return this.getDefaultResult()}async analyzeWithAPI(e,t){const n=await fetch(this.config.apiEndpoint,{method:"POST",headers:{"Content-Type":"application/json",...this.config.apiKey?{Authorization:`Bearer ${this.config.apiKey}`}:{}},body:JSON.stringify({text:e,mode:"smart",language:"auto"===t?void 0:t})});if(!n.ok)throw new Error(`API error: ${n.status}`);const s=await n.json();if(!s.success)throw new Error(s.error||"API analysis failed");const r=s.result;return{emotion:r.dominantEmotion||"neutral",confidence:r.confidence||.5,scores:r.scores||{[r.dominantEmotion]:r.confidence},keywords:r.keywords||[],language:r.language||t}}analyzeLocally(e,t){const n="ko"===t?b:v,s={},r=[],i=e.toLowerCase();for(const[e,t]of Object.entries(n)){let n=0;for(const e of t)i.includes(e.toLowerCase())&&(n+=.2,r.push(e));n*=this.checkIntensityModifiers(i),s[e]=Math.min(1,n)}let o="neutral",a=0;for(const[e,t]of Object.entries(s))t>a&&(a=t,o=e);return{emotion:o,confidence:this.calculateConfidence(a,r.length,e.length),scores:s,keywords:r,language:t}}preprocessText(e){return e.trim().replace(/\s+/g," ").replace(/[^\w\s„Ñ±-„Öé„Öè-„Ö£Í∞Ä-Ìû£.,!?]/g,"")}detectLanguage(e){if("auto"!==this.config.language)return this.config.language;return/[„Ñ±-„Öé„Öè-„Ö£Í∞Ä-Ìû£]/.test(e)?"ko":"en"}checkIntensityModifiers(e){let t=1;for(const n of k)e.includes(n)&&(t*=1.3);for(const n of w)e.includes(n)&&(t*=.7);return t}calculateConfidence(e,t,n){let s=.3;return s+=.3*e,s+=Math.min(.2,.05*t),n<10?s*=.7:n>50&&(s+=.1),Math.min(.95,Math.max(.3,s))}getDefaultResult(){return{emotion:"neutral",confidence:.5,scores:{neutral:1},keywords:[],language:"unknown"}}createStreamAnalyzer(e,t=500){let n=null,s="";return{feed:r=>{r!==s&&(s=r,n&&clearTimeout(n),n=setTimeout(async()=>{const t=await this.analyze(r);e(t)},t))},cancel:()=>{n&&(clearTimeout(n),n=null)}}}updateConfig(e){this.config={...this.config,...e}}log(e,t){this.config.debug&&console.log(`[TextAnalyzer] ${e}`,t||"")}}const S={behaviorWeight:.4,textWeight:.6,useHysteresis:!0,minConfidence:.5,autoAnalyzeInterval:5e3,debug:!1};class N{constructor(e={}){this.config={...S,...e},this.behaviorTracker=new y({debug:this.config.debug}),this.textAnalyzer=new E({debug:this.config.debug}),this.hysteresis=new c({requiredConsecutiveCount:3,minimumSwitchIntervalMs:5e3,minConfidence:.7}),this.currentResult=this.getDefaultResult(),this.subscribers=new Set,this.autoAnalyzeTimer=null,this.lastTextInput="",this.manualOverride=null}start(){this.behaviorTracker.start(),this.startAutoAnalyze(),this.log("Multimodal fusion started")}stop(){this.behaviorTracker.stop(),this.stopAutoAnalyze(),this.log("Multimodal fusion stopped")}reset(){this.behaviorTracker.reset(),this.hysteresis.reset(),this.currentResult=this.getDefaultResult(),this.lastTextInput="",this.manualOverride=null,this.notifySubscribers()}startAutoAnalyze(){this.autoAnalyzeTimer||(this.autoAnalyzeTimer=setInterval(()=>{this.analyze()},this.config.autoAnalyzeInterval))}stopAutoAnalyze(){this.autoAnalyzeTimer&&(clearInterval(this.autoAnalyzeTimer),this.autoAnalyzeTimer=null)}async analyze(e){if(this.manualOverride)return this.createManualResult(this.manualOverride);e&&(this.lastTextInput=e);const t=this.behaviorTracker.inferEmotion();let n=null;this.lastTextInput&&(n=await this.textAnalyzer.analyze(this.lastTextInput));const s=this.fuseResults(t,n);if(this.config.useHysteresis){const e=this.hysteresis.processEmotionJudgment(s.emotion,s.confidence,Date.now());if(!e.shouldTransition)return this.log("Transition blocked by hysteresis",e.debugInfo),this.currentResult}return this.currentResult=s,this.notifySubscribers(),s}fuseResults(e,t){const n=(new Date).toISOString();if(!t)return{emotion:e.emotion,confidence:.8*e.confidence,scores:{[e.emotion]:e.confidence},source:"behavior",details:{behaviorEmotion:e.emotion,behaviorConfidence:e.confidence,behaviorReasons:e.reasons,fusionMethod:"behavior_only"},timestamp:n};if(e.confidence<.3)return{emotion:t.emotion,confidence:t.confidence,scores:{[t.emotion]:t.confidence},source:"text",details:{textEmotion:t.emotion,textConfidence:t.confidence,textKeywords:t.keywords,fusionMethod:"text_only"},timestamp:n};const s=this.config.behaviorWeight,r=this.config.textWeight,i={},o=new Set([e.emotion,t.emotion]);for(const n of o){const o=n===e.emotion?e.confidence:0,a=n===t.emotion?t.confidence:0;i[n]=o*s+a*r}let a="neutral",c=0;for(const[e,t]of Object.entries(i))t>c&&(c=t,a=e);let l=c;return e.emotion===t.emotion&&(l=Math.min(.95,1.2*l)),{emotion:a,confidence:l,scores:i,source:"multimodal",details:{behaviorEmotion:e.emotion,behaviorConfidence:e.confidence,behaviorReasons:e.reasons,textEmotion:t.emotion,textConfidence:t.confidence,textKeywords:t.keywords,fusionMethod:`weighted_average (behavior: ${s}, text: ${r})`},timestamp:n}}setManualEmotion(e){this.manualOverride=e,this.currentResult=this.createManualResult(e),this.notifySubscribers(),this.log("Manual emotion set",e)}clearManualEmotion(){this.manualOverride=null,this.analyze(),this.log("Manual emotion cleared")}createManualResult(e){return{emotion:e,confidence:1,scores:{[e]:1},source:"manual",details:{fusionMethod:"manual_override"},timestamp:(new Date).toISOString()}}feedText(e){this.lastTextInput=e,this.analyze(e)}subscribe(e){return this.subscribers.add(e),e(this.currentResult),()=>{this.subscribers.delete(e)}}notifySubscribers(){this.subscribers.forEach(e=>{try{e(this.currentResult)}catch(e){this.log("Subscriber error",e)}})}getResult(){return{...this.currentResult}}getEmotion(){return this.currentResult.emotion}getConfidence(){return this.currentResult.confidence}getBehaviorMetrics(){return this.behaviorTracker.getMetrics()}updateConfig(e){this.config={...this.config,...e};const t=(this.config.behaviorWeight||0)+(this.config.textWeight||0);t>0&&1!==t&&(this.config.behaviorWeight=(this.config.behaviorWeight||0)/t,this.config.textWeight=(this.config.textWeight||0)/t)}getDefaultResult(){return{emotion:"neutral",confidence:.5,scores:{neutral:1},source:"behavior",details:{fusionMethod:"default"},timestamp:(new Date).toISOString()}}log(e,t){this.config.debug&&console.log(`[MultimodalFusion] ${e}`,t||"")}}const C=[{text:"Ïò§Îäò Ï†ïÎßê ÌñâÎ≥µÌï¥!",expected:"happy",language:"ko",category:"simple"},{text:"ÎÑàÎ¨¥ Ïä¨Ìçº",expected:"sad",language:"ko",category:"simple"},{text:"ÌôîÎÇò",expected:"angry",language:"ko",category:"simple"},{text:"ÎÇòÎäî Ïö∞Ïö∏ÌïòÏßÄ ÏïäÏïÑ",expected:"happy",language:"ko",category:"negation"},{text:"Ïä¨ÌîÑÏßÄ ÏïäÏïÑÏöî",expected:"happy",language:"ko",category:"negation"},{text:"Í¥úÏ∞ÆÏïÑÏöî",expected:"sad",language:"ko",category:"cultural"},{text:"ÌôîÏù¥ÌåÖ!",expected:"excited",language:"ko",category:"cultural"},{text:"Ï†úÎ∞ú ÎèÑÏôÄÏ£ºÏÑ∏Ïöî",expected:"anxious",language:"ko",category:"cultural"},{text:"I'm so happy!",expected:"happy",language:"en",category:"simple"},{text:"I'm sad",expected:"sad",language:"en",category:"simple"},{text:"I'm angry",expected:"angry",language:"en",category:"simple"},{text:"I'm not sad",expected:"happy",language:"en",category:"negation"},{text:"I'm not unhappy",expected:"happy",language:"en",category:"negation"},{text:"This is killing me",expected:"stressed",language:"en",category:"metaphor"},{text:"I'm literally dying",expected:"excited",language:"en",category:"metaphor"}];class F{constructor(e=[]){this.realTimeResults=[],this.testCases=[...C,...e]}async validateAccuracy(e){console.log("[Benchmark] Starting validation...");const t=Date.now(),n=await Promise.all(this.testCases.map(async t=>{try{const n=await e(t.text),s=n.emotion||n.dominantEmotion||"neutral";return{text:t.text,predicted:s,expected:t.expected,correct:s===t.expected,confidence:n.confidence||0,language:t.language,category:t.category,reasoning:n.reasoning}}catch(e){return console.error(`[Benchmark] Error analyzing "${t.text}":`,e),{text:t.text,predicted:"neutral",expected:t.expected,correct:!1,confidence:0,language:t.language,category:t.category}}})),s=Date.now()-t,r=n.filter(e=>e.correct).length,i=(r/n.length*100).toFixed(1),o=n.filter(e=>"ko"===e.language),a=n.filter(e=>"en"===e.language),c={ko:{accuracy:(o.filter(e=>e.correct).length/o.length*100).toFixed(1)+"%",passed:o.filter(e=>e.correct).length,total:o.length},en:{accuracy:(a.filter(e=>e.correct).length/a.length*100).toFixed(1)+"%",passed:a.filter(e=>e.correct).length,total:a.length}},l={};["simple","negation","cultural","metaphor"].forEach(e=>{const t=n.filter(t=>t.category===e);t.length>0&&(l[e]={accuracy:(t.filter(e=>e.correct).length/t.length*100).toFixed(1)+"%",passed:t.filter(e=>e.correct).length,total:t.length})});const d={accuracy:i+"%",totalTests:n.length,passed:r,failed:n.filter(e=>!e.correct),byLanguage:c,byCategory:l,timestamp:(new Date).toISOString()};return console.log(`[Benchmark] Completed in ${s}ms`),console.log(`[Benchmark] Overall Accuracy: ${i}%`),console.log(`[Benchmark] Korean: ${c.ko.accuracy}, English: ${c.en.accuracy}`),d}recordAnalysis(e,t,n,s){this.realTimeResults.push({text:e,predicted:t,expected:n,correct:t===n,confidence:s,language:"unknown",category:"realtime"}),this.realTimeResults.length>100&&this.realTimeResults.shift()}getRealTimeAccuracy(){if(0===this.realTimeResults.length)return{accuracy:"N/A",totalAnalyzed:0};return{accuracy:(this.realTimeResults.filter(e=>e.correct).length/this.realTimeResults.length*100).toFixed(1)+"%",totalAnalyzed:this.realTimeResults.length}}addTestCase(e){this.testCases.push(e)}getTestCases(){return[...this.testCases]}}var T,M={exports:{}},$={};var D,R={};
/**
   * @license React
   * react-jsx-runtime.development.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */"production"===process.env.NODE_ENV?M.exports=function(){if(T)return $;T=1;var e=t,n=Symbol.for("react.element"),s=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(e,t,s){var a,c={},l=null,d=null;for(a in void 0!==s&&(l=""+s),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(d=t.ref),t)r.call(t,a)&&!o.hasOwnProperty(a)&&(c[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===c[a]&&(c[a]=t[a]);return{$$typeof:n,type:e,key:l,ref:d,props:c,_owner:i.current}}return $.Fragment=s,$.jsx=a,$.jsxs=a,$}():M.exports=(D||(D=1,"production"!==process.env.NODE_ENV&&function(){var e,n=t,s=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),f=Symbol.iterator,x=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function y(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];!function(e,t,n){var s=x.ReactDebugCurrentFrame.getStackAddendum();""!==s&&(t+="%s",n=n.concat([s]));var r=n.map(function(e){return String(e)});r.unshift("Warning: "+t),Function.prototype.apply.call(console[e],console,r)}("error",e,n)}function b(e){return e.displayName||"Context"}function v(e){if(null==e)return null;if("number"==typeof e.tag&&y("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),"function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case i:return"Fragment";case r:return"Portal";case a:return"Profiler";case o:return"StrictMode";case u:return"Suspense";case m:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case l:return b(e)+".Consumer";case c:return b(e._context)+".Provider";case d:return function(e,t,n){var s=e.displayName;if(s)return s;var r=t.displayName||t.name||"";return""!==r?n+"("+r+")":n}(e,e.render,"ForwardRef");case h:var t=e.displayName||null;return null!==t?t:v(e.type)||"Memo";case p:var n=e,s=n._payload,g=n._init;try{return v(g(s))}catch(e){return null}}return null}e=Symbol.for("react.module.reference");var k,w,j,E,S,N,C,F=Object.assign,T=0;function M(){}M.__reactDisabledLog=!0;var $,D=x.ReactCurrentDispatcher;function _(e,t,n){if(void 0===$)try{throw Error()}catch(e){var s=e.stack.trim().match(/\n( *(at )?)/);$=s&&s[1]||""}return"\n"+$+e}var O,I=!1,A="function"==typeof WeakMap?WeakMap:Map;function H(e,t){if(!e||I)return"";var n,s=O.get(e);if(void 0!==s)return s;I=!0;var r,i=Error.prepareStackTrace;Error.prepareStackTrace=void 0,r=D.current,D.current=null,function(){if(0===T){k=console.log,w=console.info,j=console.warn,E=console.error,S=console.group,N=console.groupCollapsed,C=console.groupEnd;var e={configurable:!0,enumerable:!0,value:M,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}T++}();try{if(t){var o=function(){throw Error()};if(Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(o,[])}catch(e){n=e}Reflect.construct(e,[],o)}else{try{o.call()}catch(e){n=e}e.call(o.prototype)}}else{try{throw Error()}catch(e){n=e}e()}}catch(t){if(t&&n&&"string"==typeof t.stack){for(var a=t.stack.split("\n"),c=n.stack.split("\n"),l=a.length-1,d=c.length-1;l>=1&&d>=0&&a[l]!==c[d];)d--;for(;l>=1&&d>=0;l--,d--)if(a[l]!==c[d]){if(1!==l||1!==d)do{if(l--,--d<0||a[l]!==c[d]){var u="\n"+a[l].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),"function"==typeof e&&O.set(e,u),u}}while(l>=1&&d>=0);break}}}finally{I=!1,D.current=r,function(){if(0===--T){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:F({},e,{value:k}),info:F({},e,{value:w}),warn:F({},e,{value:j}),error:F({},e,{value:E}),group:F({},e,{value:S}),groupCollapsed:F({},e,{value:N}),groupEnd:F({},e,{value:C})})}T<0&&y("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}(),Error.prepareStackTrace=i}var m=e?e.displayName||e.name:"",h=m?_(m):"";return"function"==typeof e&&O.set(e,h),h}function B(e,t,n){if(null==e)return"";if("function"==typeof e)return H(e,!(!(s=e.prototype)||!s.isReactComponent));var s;if("string"==typeof e)return _(e);switch(e){case u:return _("Suspense");case m:return _("SuspenseList")}if("object"==typeof e)switch(e.$$typeof){case d:return H(e.render,!1);case h:return B(e.type,t,n);case p:var r=e,i=r._payload,o=r._init;try{return B(o(i),t,n)}catch(e){}}return""}O=new A;var L=Object.prototype.hasOwnProperty,P={},z=x.ReactDebugCurrentFrame;function K(e){if(e){var t=e._owner,n=B(e.type,e._source,t?t.type:null);z.setExtraStackFrame(n)}else z.setExtraStackFrame(null)}var W=Array.isArray;function q(e){return W(e)}function U(e){return""+e}function Y(e){if(function(e){try{return U(e),!1}catch(e){return!0}}(e))return y("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",function(e){return"function"==typeof Symbol&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object"}(e)),U(e)}var V,J,X=x.ReactCurrentOwner,G={key:!0,ref:!0,__self:!0,__source:!0};function Z(e,t,n,r,i){var o,a={},c=null,l=null;for(o in void 0!==n&&(Y(n),c=""+n),function(e){if(L.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return!1}return void 0!==e.key}(t)&&(Y(t.key),c=""+t.key),function(e){if(L.call(e,"ref")){var t=Object.getOwnPropertyDescriptor(e,"ref").get;if(t&&t.isReactWarning)return!1}return void 0!==e.ref}(t)&&(l=t.ref,function(e){"string"==typeof e.ref&&X.current}(t)),t)L.call(t,o)&&!G.hasOwnProperty(o)&&(a[o]=t[o]);if(e&&e.defaultProps){var d=e.defaultProps;for(o in d)void 0===a[o]&&(a[o]=d[o])}if(c||l){var u="function"==typeof e?e.displayName||e.name||"Unknown":e;c&&function(e,t){var n=function(){V||(V=!0,y("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};n.isReactWarning=!0,Object.defineProperty(e,"key",{get:n,configurable:!0})}(a,u),l&&function(e,t){var n=function(){J||(J=!0,y("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};n.isReactWarning=!0,Object.defineProperty(e,"ref",{get:n,configurable:!0})}(a,u)}return function(e,t,n,r,i,o,a){var c={$$typeof:s,type:e,key:t,ref:n,props:a,_owner:o,_store:{}};return Object.defineProperty(c._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(c,"_self",{configurable:!1,enumerable:!1,writable:!1,value:r}),Object.defineProperty(c,"_source",{configurable:!1,enumerable:!1,writable:!1,value:i}),Object.freeze&&(Object.freeze(c.props),Object.freeze(c)),c}(e,c,l,i,r,X.current,a)}var Q,ee=x.ReactCurrentOwner,te=x.ReactDebugCurrentFrame;function ne(e){if(e){var t=e._owner,n=B(e.type,e._source,t?t.type:null);te.setExtraStackFrame(n)}else te.setExtraStackFrame(null)}function se(e){return"object"==typeof e&&null!==e&&e.$$typeof===s}function re(){if(ee.current){var e=v(ee.current.type);if(e)return"\n\nCheck the render method of `"+e+"`."}return""}Q=!1;var ie={};function oe(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;var n=function(e){var t=re();if(!t){var n="string"==typeof e?e:e.displayName||e.name;n&&(t="\n\nCheck the top-level render call using <"+n+">.")}return t}(t);if(!ie[n]){ie[n]=!0;var s="";e&&e._owner&&e._owner!==ee.current&&(s=" It was passed a child from "+v(e._owner.type)+"."),ne(e),y('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',n,s),ne(null)}}}function ae(e,t){if("object"==typeof e)if(q(e))for(var n=0;n<e.length;n++){var s=e[n];se(s)&&oe(s,t)}else if(se(e))e._store&&(e._store.validated=!0);else if(e){var r=function(e){if(null===e||"object"!=typeof e)return null;var t=f&&e[f]||e["@@iterator"];return"function"==typeof t?t:null}(e);if("function"==typeof r&&r!==e.entries)for(var i,o=r.call(e);!(i=o.next()).done;)se(i.value)&&oe(i.value,t)}}function ce(e){var t,n=e.type;if(null!=n&&"string"!=typeof n){if("function"==typeof n)t=n.propTypes;else{if("object"!=typeof n||n.$$typeof!==d&&n.$$typeof!==h)return;t=n.propTypes}if(t){var s=v(n);!function(e,t,n,s,r){var i=Function.call.bind(L);for(var o in e)if(i(e,o)){var a=void 0;try{if("function"!=typeof e[o]){var c=Error((s||"React class")+": "+n+" type `"+o+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[o]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw c.name="Invariant Violation",c}a=e[o](t,o,s,n,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(e){a=e}!a||a instanceof Error||(K(r),y("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",s||"React class",n,o,typeof a),K(null)),a instanceof Error&&!(a.message in P)&&(P[a.message]=!0,K(r),y("Failed %s type: %s",n,a.message),K(null))}}(t,e.props,"prop",s,e)}else void 0===n.PropTypes||Q||(Q=!0,y("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",v(n)||"Unknown"));"function"!=typeof n.getDefaultProps||n.getDefaultProps.isReactClassApproved||y("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}var le={};function de(t,n,r,f,x,b){var k=function(t){return"string"==typeof t||"function"==typeof t||t===i||t===a||t===o||t===u||t===m||t===g||"object"==typeof t&&null!==t&&(t.$$typeof===p||t.$$typeof===h||t.$$typeof===c||t.$$typeof===l||t.$$typeof===d||t.$$typeof===e||void 0!==t.getModuleId)}(t);if(!k){var w,j="";(void 0===t||"object"==typeof t&&null!==t&&0===Object.keys(t).length)&&(j+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports."),j+=re(),null===t?w="null":q(t)?w="array":void 0!==t&&t.$$typeof===s?(w="<"+(v(t.type)||"Unknown")+" />",j=" Did you accidentally export a JSX literal instead of a component?"):w=typeof t,y("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",w,j)}var E=Z(t,n,r,x,b);if(null==E)return E;if(k){var S=n.children;if(void 0!==S)if(f)if(q(S)){for(var N=0;N<S.length;N++)ae(S[N],t);Object.freeze&&Object.freeze(S)}else y("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else ae(S,t)}if(L.call(n,"key")){var C=v(t),F=Object.keys(n).filter(function(e){return"key"!==e}),T=F.length>0?"{key: someKey, "+F.join(": ..., ")+": ...}":"{key: someKey}";le[C+T]||(y('A props object containing a "key" prop is being spread into JSX:\n  let props = %s;\n  <%s {...props} />\nReact keys must be passed directly to JSX without using spread:\n  let props = %s;\n  <%s key={someKey} {...props} />',T,C,F.length>0?"{"+F.join(": ..., ")+": ...}":"{}",C),le[C+T]=!0)}return t===i?function(e){for(var t=Object.keys(e.props),n=0;n<t.length;n++){var s=t[n];if("children"!==s&&"key"!==s){ne(e),y("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",s),ne(null);break}}null!==e.ref&&(ne(e),y("Invalid attribute `ref` supplied to `React.Fragment`."),ne(null))}(E):ce(E),E}var ue=function(e,t,n){return de(e,t,n,!1)},me=function(e,t,n){return de(e,t,n,!0)};R.Fragment=i,R.jsx=ue,R.jsxs=me}()),R);var _=M.exports;const O={neutral:"üçÉ",happy:"‚òÄÔ∏è",excited:"‚ú®",stressed:"‚ö°",anxious:"üí®",sad:"üåßÔ∏è",anger:"üî•",fear:"‚òÇÔ∏è",surprise:"‚≠ê",meditation:"üå∏",fatigue:"üåô",depression:"üå´Ô∏è"},I=({emotion:e="neutral",confidence:r=.5,source:i="auto",size:o="md",position:a="bottom-right",showConfidence:c=!0,onClick:l,onExpand:d,onSelectEmotion:u,className:m="",animated:h=!0})=>{const[p,g]=t.useState(!1),[f,x]=t.useState(!1),[y,b]=t.useState(e),[v,k]=t.useState(!1);t.useEffect(()=>{if(e!==y){x(!0);const t=setTimeout(()=>x(!1),1e3);return b(e),()=>clearTimeout(t)}},[e,y]);const w=n[e]||n.neutral,j=s[e]||"ÌèâÏò®",E=O[e]||"üçÉ",S=t.useCallback(()=>{l?l():(g(!p),!p&&d&&d())},[l,p,d]),N=t.useCallback(e=>{u&&u(e),g(!1)},[u]);return _.jsxs("div",{className:`fixed ${{"bottom-right":"bottom-6 right-6","bottom-left":"bottom-6 left-6","top-right":"top-6 right-6","top-left":"top-6 left-6"}[a]} z-50 ${m}`,style:{fontFamily:"'Pretendard', sans-serif"},children:[p&&_.jsxs("div",{className:"absolute bottom-full right-0 mb-3 p-4 rounded-2xl shadow-xl",style:{background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",border:"1px solid rgba(0, 0, 0, 0.05)",minWidth:"200px"},children:[_.jsxs("div",{className:"mb-4 pb-3 border-b border-gray-100",children:[_.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-wider mb-1",children:"ÌòÑÏû¨ Í∞êÏ†ï"}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"text-2xl",children:E}),_.jsx("span",{className:"text-lg font-medium",style:{color:w.text},children:j})]}),c&&_.jsxs("div",{className:"mt-2",children:[_.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[_.jsx("span",{children:"Ïã†Î¢∞ÎèÑ"}),_.jsxs("span",{children:[Math.round(100*r),"%"]})]}),_.jsx("div",{className:"h-1.5 bg-gray-100 rounded-full overflow-hidden",children:_.jsx("div",{className:"h-full rounded-full transition-all duration-500",style:{width:100*r+"%",background:w.accent}})})]}),_.jsx("div",{className:"mt-2 text-xs text-gray-400",children:"manual"===i?"ÏàòÎèô ÏÑ†ÌÉù":"text"===i?"ÌÖçÏä§Ìä∏ Î∂ÑÏÑù":"behavior"===i?"ÌñâÎèô Î∂ÑÏÑù":"multimodal"===i?"Î©ÄÌã∞Î™®Îã¨ Î∂ÑÏÑù":"ÏûêÎèô Î∂ÑÏÑù"})]}),u&&_.jsxs("div",{children:[_.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-wider mb-2",children:"ÏßÅÏ†ë ÏÑ†ÌÉù"}),_.jsx("div",{className:"grid grid-cols-4 gap-2",children:Object.keys(O).map(t=>_.jsx("button",{onClick:()=>N(t),className:`\n                      p-2 rounded-lg text-xl transition-all duration-200\n                      hover:scale-110 hover:shadow-md\n                      ${e===t?"ring-2 ring-offset-1":""}\n                    `,style:{background:e===t?n[t].background:"transparent",ringColor:n[t].accent},title:s[t],children:O[t]},t))})]})]}),v&&!p&&_.jsxs("div",{className:"absolute bottom-full right-0 mb-2 px-3 py-2 rounded-lg shadow-lg whitespace-nowrap",style:{background:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(10px)",animation:"fadeIn 0.2s ease-out"},children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"text-lg",children:E}),_.jsxs("div",{className:"text-white",children:[_.jsx("div",{className:"text-sm font-medium",children:j}),_.jsxs("div",{className:"text-xs opacity-75",children:[Math.round(100*r),"% Ïã†Î¢∞ÎèÑ"]})]})]}),_.jsx("div",{className:"absolute top-full right-4 w-0 h-0",style:{borderLeft:"6px solid transparent",borderRight:"6px solid transparent",borderTop:"6px solid rgba(0, 0, 0, 0.85)"}})]}),_.jsx("button",{onClick:S,onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),className:`\n          ${{sm:"w-12 h-12 text-lg",md:"w-16 h-16 text-2xl",lg:"w-20 h-20 text-3xl"}[o]}\n          rounded-full shadow-lg\n          flex items-center justify-center\n          transition-all duration-500 ease-out\n          hover:scale-105 hover:shadow-xl\n          focus:outline-none focus:ring-2 focus:ring-offset-2\n          ${h&&f?"animate-pulse-emotion":""}\n        `,style:{background:w.gradient,border:`2px solid ${w.accent}`,boxShadow:`0 4px 20px ${w.accent}40`,focusRingColor:w.accent},"aria-label":`ÌòÑÏû¨ Í∞êÏ†ï: ${j}`,children:_.jsx("span",{className:f?"animate-bounce":"",children:E})}),c&&!p&&_.jsx("svg",{className:"absolute inset-0 -m-1 pointer-events-none",style:{width:"sm"===o?56:"md"===o?72:88,height:"sm"===o?56:"md"===o?72:88},children:_.jsx("circle",{cx:"50%",cy:"50%",r:"45%",fill:"none",stroke:w.accent,strokeWidth:"2",strokeDasharray:283*r+" 283",strokeLinecap:"round",transform:"rotate(-90 50 50)",className:"transition-all duration-1000",style:{opacity:.6}})}),_.jsx("style",{children:`\n        @keyframes pulse-emotion {\n          0%, 100% {\n            transform: scale(1);\n            box-shadow: 0 4px 20px ${w.accent}40;\n          }\n          50% {\n            transform: scale(1.08);\n            box-shadow: 0 8px 30px ${w.accent}60;\n          }\n        }\n        \n        @keyframes fadeIn {\n          from {\n            opacity: 0;\n            transform: translateY(5px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n        \n        .animate-pulse-emotion {\n          animation: pulse-emotion 1s cubic-bezier(0.4, 0, 0.6, 1);\n        }\n      `})]})},A={forYou:{ko:"ÎãπÏã†ÏùÑ ÏúÑÌïú",en:"FOR YOU"},moodLift:{ko:"Í∏∞Î∂Ñ Ï†ÑÌôò",en:"MOOD LIFT"},calmDown:{ko:"ÎßàÏùå ÏßÑÏ†ï",en:"CALM DOWN"},energyUp:{ko:"ÌôúÎ†• Ï∂©Ï†Ñ",en:"ENERGY UP"},comfort:{ko:"ÏúÑÎ°úÍ∞Ä ÎêòÎäî",en:"COMFORT"},perfect:{ko:"ÏôÑÎ≤Ω Îß§Ïπ≠",en:"PERFECT"}},H={neutral:"forYou",happy:"energyUp",excited:"energyUp",stressed:"calmDown",anxious:"calmDown",sad:"comfort",anger:"calmDown",fear:"comfort",surprise:"forYou",meditation:"calmDown",fatigue:"energyUp",depression:"moodLift"},B=({emotion:e="neutral",score:r=.5,minScore:i=.6,variant:o="filled",language:a="ko",showScore:c=!1,animated:l=!0,className:d=""})=>{if(r<i)return null;const u=n[e]||n.neutral,m=A[H[e]],h=s[e],p=r>=.9?A.perfect:m,g=t.useMemo(()=>{switch(o){case"filled":default:return{background:u.accent,color:"#FFFFFF",border:"none"};case"outline":return{background:"transparent",color:u.accent,border:`1.5px solid ${u.accent}`};case"subtle":return{background:`${u.accent}15`,color:u.accent,border:"none"}}},[o,u]);return _.jsxs("div",{className:`\n        inline-flex flex-col items-start gap-0.5\n        px-2.5 py-1.5 rounded-lg\n        text-xs font-medium\n        ${l?"animate-badge-enter":""}\n        ${d}\n      `,style:{...g,fontFamily:"'Pretendard', sans-serif",letterSpacing:"0.02em"},children:[_.jsx("span",{className:"uppercase tracking-wider text-[10px] opacity-80",children:"ko"===a?p.ko:p.en}),_.jsx("span",{className:"font-semibold",children:h}),c&&_.jsxs("span",{className:"text-[9px] opacity-70 mt-0.5",children:[Math.round(100*r),"% Îß§Ïπ≠"]}),_.jsx("style",{children:"\n        @keyframes badge-enter {\n          from {\n            opacity: 0;\n            transform: translateY(-8px) scale(0.95);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0) scale(1);\n          }\n        }\n        \n        .animate-badge-enter {\n          animation: badge-enter 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);\n        }\n      "})]})},L={ko:{neutral:"ÌèâÏò®Ìïú ÏÉÅÌÉúÎ°ú ÎèåÏïÑÏôîÏñ¥Ïöî",happy:"Í∏∞Î∂ÑÏù¥ Ï¢ãÏïÑÏßÄÍ≥† ÏûàÎÑ§Ïöî",excited:"ÏÑ§Î†àÎäî ÎßàÏùåÏù¥ ÎäêÍª¥Ï†∏Ïöî",stressed:"Ïä§Ìä∏Î†àÏä§Î•º Í∞êÏßÄÌñàÏñ¥Ïöî",anxious:"Î∂àÏïàÌï®Ïù¥ ÎäêÍª¥ÏßÄÎÑ§Ïöî",sad:"Ï°∞Í∏à Ïö∞Ïö∏Ìï¥ Î≥¥Ïó¨Ïöî",anger:"ÌôîÍ∞Ä ÎÇòÏÖ®Íµ∞Ïöî",fear:"ÎëêÎ†§ÏõÄÏù¥ ÎäêÍª¥Ï†∏Ïöî",surprise:"ÎÜÄÎùºÏÖ®Íµ∞Ïöî!",meditation:"Î™ÖÏÉÅ Î™®ÎìúÎ°ú Ï†ÑÌôòÌï¥Ïöî",fatigue:"ÌîºÍ≥§Ìï¥ Î≥¥Ïó¨Ïöî",depression:"ÌûòÎì† ÏãúÍ∞ÑÏù¥ÏãúÍµ∞Ïöî"},en:{neutral:"Back to calm",happy:"Feeling happy",excited:"Getting excited",stressed:"Stress detected",anxious:"Feeling anxious",sad:"Feeling down",anger:"Feeling angry",fear:"Feeling fearful",surprise:"Surprised!",meditation:"Meditation mode",fatigue:"Feeling tired",depression:"Going through tough times"}},P={neutral:{icon:"üçÉ",text:"Ï¢ãÏùÄ ÌïòÎ£® ÎêòÏÑ∏Ïöî"},happy:{icon:"‚òÄÔ∏è",text:"Ïù¥ Í∏∞Î∂Ñ Ïú†ÏßÄÌï¥Ïöî!"},excited:{icon:"‚ú®",text:"ÏÑ§Î†òÏùÑ Ï¶êÍ≤®Î≥¥ÏÑ∏Ïöî"},stressed:{icon:"üßò",text:"ÍπäÏùÄ Ìò∏Ìù°ÏùÑ Ìï¥Î≥ºÍπåÏöî?"},anxious:{icon:"üíÜ",text:"Ïû†Ïãú Ïâ¨Ïñ¥Í∞ÄÏÑ∏Ïöî"},sad:{icon:"ü§ó",text:"Îî∞ÎúªÌïú Ï∞® ÌïúÏûî Ïñ¥ÎïåÏöî?"},anger:{icon:"üåä",text:"Ï∞®Î∂ÑÌï¥ÏßÄÎäî ÏãúÍ∞ÑÏùÑ"},fear:{icon:"üõ°Ô∏è",text:"ÏïàÏ†ÑÌïú Í≥µÍ∞ÑÏóê ÏûàÏñ¥Ïöî"},surprise:{icon:"üéÅ",text:"ÌäπÎ≥ÑÌïú Î∞úÍ≤¨Ïù¥ÎÑ§Ïöî!"},meditation:{icon:"üå∏",text:"Í≥†ÏöîÌï®ÏùÑ ÎäêÍª¥Î≥¥ÏÑ∏Ïöî"},fatigue:{icon:"üåô",text:"Ìú¥ÏãùÏù¥ ÌïÑÏöîÌï¥Ïöî"},depression:{icon:"üí´",text:"ÏûëÏùÄ Í≤ÉÎ∂ÄÌÑ∞ ÏãúÏûëÌï¥Ïöî"}},z=({fromEmotion:e,toEmotion:r,confidence:i,isVisible:o,onClose:a,duration:c=3e3,language:l="ko",onAction:d,className:u=""})=>{const[m,h]=t.useState(!1),[p,g]=t.useState(0),f=n[r]||n.neutral,x=s[e],y=s[r],b=L[l][r],v=P[r];return t.useEffect(()=>{if(o){h(!0),g(0);const e=setInterval(()=>{g(e=>Math.min(100,e+2))},c/50),t=setTimeout(()=>{h(!1),setTimeout(a,300)},c);return()=>{clearInterval(e),clearTimeout(t)}}},[o,c,a]),o||m?_.jsx("div",{className:`\n        fixed inset-0 z-[100]\n        flex items-center justify-center\n        transition-opacity duration-300\n        ${m?"opacity-100":"opacity-0"}\n        ${u}\n      `,style:{background:`linear-gradient(135deg, ${f.background}F0 0%, ${f.accent}30 100%)`,backdropFilter:"blur(8px)"},onClick:a,children:_.jsxs("div",{className:`\n          text-center px-8 py-10 rounded-3xl\n          transform transition-all duration-500\n          ${m?"scale-100 translate-y-0":"scale-95 translate-y-4"}\n        `,style:{background:"rgba(255, 255, 255, 0.9)",boxShadow:`0 25px 50px -12px ${f.accent}40`,maxWidth:"400px"},onClick:e=>e.stopPropagation(),children:[_.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6",children:[_.jsx("span",{className:"text-2xl opacity-50",children:x}),_.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:f.accent,strokeWidth:"2",children:_.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})}),_.jsx("span",{className:"text-3xl font-bold",style:{color:f.accent},children:y})]}),_.jsx("p",{className:"text-xl font-light mb-6",style:{color:f.text,fontFamily:"'Noto Sans KR', sans-serif",lineHeight:1.6},children:b}),_.jsxs("div",{className:"mb-6",children:[_.jsxs("div",{className:"text-xs text-gray-400 mb-2",children:["Î∂ÑÏÑù Ïã†Î¢∞ÎèÑ ",Math.round(100*i),"%"]}),_.jsx("div",{className:"h-1 bg-gray-100 rounded-full overflow-hidden mx-auto",style:{maxWidth:"200px"},children:_.jsx("div",{className:"h-full rounded-full transition-all duration-500",style:{width:100*i+"%",background:f.accent}})})]}),_.jsxs("button",{onClick:()=>{d&&d(),a()},className:"\r\n            inline-flex items-center gap-2\r\n            px-6 py-3 rounded-full\r\n            text-white font-medium\r\n            transition-all duration-200\r\n            hover:scale-105 hover:shadow-lg\r\n          ",style:{background:f.accent},children:[_.jsx("span",{className:"text-xl",children:v.icon}),_.jsx("span",{children:v.text})]}),_.jsx("div",{className:"mt-6 h-0.5 bg-gray-100 rounded-full overflow-hidden",children:_.jsx("div",{className:"h-full transition-all duration-100",style:{width:`${p}%`,background:f.accent,opacity:.5}})}),_.jsx("p",{className:"mt-4 text-xs text-gray-400",children:"ÌôîÎ©¥ÏùÑ ÌÉ≠ÌïòÎ©¥ Îã´ÌûôÎãàÎã§"})]})}):null},K=({fromEmotion:e,toEmotion:r,isVisible:i,onClose:o,position:a="bottom"})=>{const c=n[r]||n.neutral,l=s[r],d=P[r];return t.useEffect(()=>{if(i){const e=setTimeout(o,3e3);return()=>clearTimeout(e)}},[i,o]),i?_.jsxs("div",{className:`\n        fixed left-1/2 -translate-x-1/2 z-[100]\n        px-6 py-3 rounded-full\n        flex items-center gap-3\n        shadow-lg\n        animate-toast-enter\n        ${"top"===a?"top-6":"bottom-24"}\n        cursor-pointer\n      `,style:{background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",border:`2px solid ${c.accent}`},onClick:o,children:[_.jsx("span",{className:"text-xl",children:d.icon}),_.jsx("span",{style:{color:c.text},className:"font-medium",children:l}),_.jsx("span",{className:"text-gray-400 text-sm",children:"Í∞êÏßÄÎê®"}),_.jsx("style",{children:`\n        @keyframes toast-enter {\n          from {\n            opacity: 0;\n            transform: translateX(-50%) translateY(${"top"===a?"-20px":"20px"});\n          }\n          to {\n            opacity: 1;\n            transform: translateX(-50%) translateY(0);\n          }\n        }\n        \n        .animate-toast-enter {\n          animation: toast-enter 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);\n        }\n      `})]}):null},W={fastMouse:{icon:"üñ±Ô∏è",message:"Îπ†Î•∏ ÎßàÏö∞Ïä§ ÏõÄÏßÅÏûÑ Í∞êÏßÄ"},slowMouse:{icon:"üêå",message:"ÎäêÎ¶∞ ÏõÄÏßÅÏûÑ Í∞êÏßÄ"},fastScroll:{icon:"üìú",message:"Í∏âÌïú Ïä§ÌÅ¨Î°§ Í∞êÏßÄ"},frequentClicks:{icon:"üëÜ",message:"ÎπàÎ≤àÌïú ÌÅ¥Î¶≠ Í∞êÏßÄ"},hesitation:{icon:"ü§î",message:"ÎßùÏÑ§ÏûÑ Í∞êÏßÄ"},longStay:{icon:"‚è±Ô∏è",message:"Ïò§Îûò Î®∏Î¨¥Î•¥Í≥† ÏûàÏñ¥Ïöî"}},q=({enabled:e=!0,maxMessages:n=3,displayDuration:s=3e3,position:r="bottom-left",isNewUser:i=!1,className:o=""})=>{const[a,c]=t.useState([]),[l,d]=t.useState(0),u=e&&(!i||l<3),m=t.useCallback(e=>{if(!u)return;const t={...e,id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,timestamp:Date.now()};c(e=>[t,...e].slice(0,n)),i&&d(e=>e+1),setTimeout(()=>{c(e=>e.filter(e=>e.id!==t.id))},s)},[u,n,s,i]);return t.useEffect(()=>("undefined"!=typeof window&&(window.__HEALSIDE_FEEDBACK__={addFeedback:m,clearAll:()=>c([])}),()=>{"undefined"!=typeof window&&delete window.__HEALSIDE_FEEDBACK__}),[m]),e&&0!==a.length?_.jsx("div",{className:`fixed ${{"bottom-left":"bottom-24 left-6","bottom-right":"bottom-24 right-6","top-left":"top-24 left-6","top-right":"top-24 right-6"}[r]} z-40 flex flex-col gap-2 ${o}`,style:{maxWidth:"280px"},children:a.map((e,t)=>_.jsx(U,{message:e,index:t,onClose:()=>c(t=>t.filter(t=>t.id!==e.id))},e.id))}):null},U=({message:e,index:t,onClose:r})=>{const i=e.emotion?n[e.emotion]:n.neutral;return _.jsxs("div",{className:"\r\n        flex items-start gap-3\r\n        px-4 py-3 rounded-xl\r\n        shadow-lg\r\n        animate-feedback-enter\r\n        cursor-pointer\r\n        transition-all duration-200\r\n        hover:scale-[1.02]\r\n      ",style:{background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",borderLeft:`3px solid ${i.accent}`,animationDelay:50*t+"ms"},onClick:r,children:[_.jsx("span",{className:"text-xl flex-shrink-0",children:e.icon}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsx("p",{className:"text-sm font-medium text-gray-800 leading-tight",children:e.message}),e.detail&&_.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:e.detail}),e.emotion&&_.jsxs("span",{className:"inline-block mt-1 px-2 py-0.5 rounded text-xs font-medium",style:{background:`${i.accent}20`,color:i.accent},children:["‚Üí ",s[e.emotion]," Ïã†Ìò∏"]})]}),_.jsx("button",{className:"text-gray-400 hover:text-gray-600 text-sm",onClick:e=>{e.stopPropagation(),r()},children:"‚úï"}),_.jsx("style",{children:"\n        @keyframes feedback-enter {\n          from {\n            opacity: 0;\n            transform: translateX(-20px);\n          }\n          to {\n            opacity: 1;\n            transform: translateX(0);\n          }\n        }\n        \n        .animate-feedback-enter {\n          animation: feedback-enter 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;\n        }\n      "})]})};function Y(){const e=t.useCallback((e,t,n,s,r)=>{"undefined"!=typeof window&&window.__HEALSIDE_FEEDBACK__&&window.__HEALSIDE_FEEDBACK__.addFeedback({type:e,icon:t,message:n,detail:s,emotion:r})},[]),n=t.useCallback((t,n,s)=>{const r=W[t];r&&e("behavior",r.icon,r.message,s,n)},[e]),r=t.useCallback((t,n)=>{e("text","üí¨","ÌÖçÏä§Ìä∏ÏóêÏÑú Í∞êÏ†ï Í∞êÏßÄ",`ÌÇ§ÏõåÎìú: ${n.slice(0,3).join(", ")}`,t)},[e]),i=t.useCallback((t,n)=>{e("fusion","üîÄ","Î©ÄÌã∞Î™®Îã¨ Î∂ÑÏÑù ÏôÑÎ£å",`Ïã†Î¢∞ÎèÑ ${Math.round(100*n)}%`,t)},[e]),o=t.useCallback((t,n)=>{e("transition","üîÑ",`Í∞êÏ†ï Ï†ÑÌôò: ${s[t]} ‚Üí ${s[n]}`,void 0,n)},[e]);return{addFeedback:e,feedbackBehavior:n,feedbackText:r,feedbackFusion:i,feedbackTransition:o}}const V=({label:e,value:t,max:n,unit:s,color:r})=>{const i=Math.min(100,t/n*100);return _.jsxs("div",{children:[_.jsxs("div",{className:"flex justify-between text-xs mb-2",children:[_.jsx("span",{className:"text-gray-600 uppercase tracking-wider font-semibold",children:e}),_.jsxs("span",{className:"font-mono font-bold",style:{color:r},children:[t.toFixed(1)," ",_.jsx("span",{className:"text-gray-400",children:s})]})]}),_.jsx("div",{className:"h-2.5 bg-gray-100 rounded-full overflow-hidden",children:_.jsx("div",{className:"h-full rounded-full transition-all duration-500",style:{width:`${i}%`,background:`linear-gradient(90deg, ${r} 0%, ${r}DD 100%)`}})})]})},J=({label:e,color:t})=>_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-10 h-10 rounded-lg border-2 border-gray-200 shadow-md",style:{background:t}}),_.jsxs("div",{children:[_.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wider font-semibold",children:e}),_.jsx("div",{className:"text-xs font-mono text-gray-700 font-bold",children:t})]})]});var X=emotionEngine;const G="1.0.0";e.BehaviorTracker=y,e.BenchmarkEngine=F,e.EMOTION_ICONS={neutral:"Leaf",happy:"Sun",excited:"Sparkles",stressed:"Zap",anxious:"Wind",sad:"CloudRain",anger:"Flame",fear:"Umbrella",surprise:"Star",meditation:"Flower2",fatigue:"Moon",depression:"CloudFog"},e.EMOTION_LABELS_EN={neutral:"Calm",happy:"Happy",excited:"Excited",stressed:"Stressed",anxious:"Anxious",sad:"Sad",anger:"Angry",fear:"Fearful",surprise:"Surprised",meditation:"Meditative",fatigue:"Tired",depression:"Down"},e.EMOTION_LABELS_KO=s,e.EMOTION_THEMES=n,e.EmotionBadge=B,e.EmotionBadgeCompact=({emotion:e,score:t,minScore:r=.6,className:i=""})=>{if(t<r)return null;const o=n[e]||n.neutral,a=t>=.9;return _.jsx("div",{className:`\n        w-6 h-6 rounded-full\n        flex items-center justify-center\n        text-xs font-bold text-white\n        shadow-sm\n        ${i}\n      `,style:{background:o.accent},title:`${s[e]} ${Math.round(100*t)}%`,children:a?"‚òÖ":"‚ô•"})},e.EmotionDemo=()=>{const[e,r]=t.useState("neutral"),[i,o]=t.useState(.5),[a,c]=t.useState("auto"),[l,d]=t.useState(null),[u,m]=t.useState(""),[h,p]=t.useState(!1),[g,f]=t.useState(!1),[x,y]=t.useState("neutral"),[b,v]=t.useState(!1),[k,w]=t.useState(!0),[j]=t.useState(()=>new N({debug:!0})),[S]=t.useState(()=>new E({debug:!0})),[C]=t.useState(()=>new F),[T,M]=t.useState(null),[$,D]=t.useState(!1),{feedbackBehavior:R,feedbackText:O,feedbackFusion:A,feedbackTransition:H}=Y(),L=n[e]||n.neutral,P=t.useCallback(()=>{b?(j.stop(),v(!1)):(j.start(),v(!0))},[b,j]);t.useEffect(()=>j.subscribe(t=>{t.emotion!==e&&(y(e),f(!0),H(e,t.emotion)),r(t.emotion),o(t.confidence),c(t.source),d(j.getBehaviorMetrics())}),[j,e,H]),t.useEffect(()=>{if(!b)return;const e=setInterval(()=>{const e=j.getBehaviorMetrics();d(e)},1e3);return()=>clearInterval(e)},[b,j]);const W=t.useCallback(async()=>{if(!u.trim())return;const e=await S.analyze(u);j.feedText(u),O(e.emotion,e.keywords)},[u,S,j,O]),U=t.useCallback(t=>{y(e),j.setManualEmotion(t),p(!0)},[j,e]),X=t.useCallback(()=>{j.clearManualEmotion()},[j]),G=t.useCallback(async()=>{D(!0);try{const e=await C.validateAccuracy(async e=>await S.analyze(e));M(e),console.log("[Benchmark] Result:",e)}catch(e){console.error("[Benchmark] Error:",e)}finally{D(!1)}},[C,S]);return _.jsxs("div",{className:"min-h-screen transition-colors duration-1000",style:{background:L.gradient,fontFamily:"'Helvetica Neue', 'Pretendard', sans-serif"},children:[_.jsx("header",{className:"border-b border-gray-200 bg-white/80 backdrop-blur-xl sticky top-0 z-50 shadow-sm",children:_.jsx("div",{className:"max-w-7xl mx-auto px-8 py-5",children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-6",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-emerald-400 to-teal-600 flex items-center justify-center shadow-md",children:_.jsx("span",{className:"text-white text-xl font-bold",children:"H"})}),_.jsxs("div",{children:[_.jsx("h1",{className:"text-xl font-bold tracking-tight",style:{color:L.text},children:"HEALSIDE EMOTION SDK"}),_.jsx("p",{className:"text-xs uppercase tracking-wider",style:{color:L.secondary},children:"Developer Preview v1.0"})]})]}),_.jsxs("a",{href:"/",className:"\r\n                  px-6 py-2.5 rounded-lg\r\n                  bg-gradient-to-r from-emerald-500 to-teal-600\r\n                  text-white text-sm font-medium\r\n                  hover:from-emerald-600 hover:to-teal-700\r\n                  transition-all duration-200\r\n                  flex items-center gap-2\r\n                  shadow-lg shadow-emerald-500/20\r\n                ",children:[_.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Ïã§Ï†ú ÏáºÌïëÎ™∞ Î≥¥Í∏∞"]})]}),_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("button",{onClick:P,className:`\n                  px-5 py-2.5 rounded-lg text-sm font-medium\n                  transition-all duration-200 shadow-sm\n                  ${b?"bg-green-50 text-green-600 border border-green-200":"bg-gray-50 text-gray-600 border border-gray-200 hover:bg-gray-100"}\n                `,children:_.jsxs("span",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"w-2 h-2 rounded-full "+(b?"bg-green-500 animate-pulse":"bg-gray-400")}),b?"Ï∂îÏ†Å Ï§ë":"Ï∂îÏ†Å ÏãúÏûë"]})}),_.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer transition-colors",style:{color:L.secondary},children:[_.jsx("input",{type:"checkbox",checked:k,onChange:e=>w(e.target.checked),className:"rounded border-gray-300 text-emerald-500 focus:ring-emerald-500/50"}),_.jsx("span",{className:"uppercase tracking-wider text-xs",children:"Debug"})]})]})]})})}),_.jsxs("main",{className:"max-w-7xl mx-auto px-8 py-12",children:[_.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[_.jsxs("section",{className:"space-y-6",children:[_.jsxs("div",{className:"p-8 rounded-2xl border shadow-lg bg-white",style:{borderColor:`${L.accent}20`},children:[_.jsx("h2",{className:"text-xs font-semibold mb-6 uppercase tracking-widest",style:{color:L.secondary},children:"Current Emotion State"}),_.jsxs("div",{className:"flex items-center gap-8",children:[_.jsx("div",{className:"w-28 h-28 rounded-2xl flex items-center justify-center text-5xl shadow-xl",style:{background:`linear-gradient(135deg, ${L.accent}15 0%, ${L.accent}05 100%)`,border:`3px solid ${L.accent}`},children:s[e]?.charAt(0)||"üòä"}),_.jsxs("div",{className:"flex-1",children:[_.jsx("div",{className:"text-4xl font-bold mb-2",style:{color:L.text},children:s[e]}),_.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[_.jsx("span",{style:{color:L.secondary},children:"Ïã†Î¢∞ÎèÑ"}),_.jsxs("span",{className:"font-mono font-bold",style:{color:L.accent},children:[Math.round(100*i),"%"]})]}),_.jsx("div",{className:"mt-2 text-xs uppercase tracking-wider",style:{color:L.secondary},children:"manual"===a?"ÏàòÎèô ÏÑ†ÌÉù":"text"===a?"ÌÖçÏä§Ìä∏ Î∂ÑÏÑù":"behavior"===a?"ÌñâÎèô Î∂ÑÏÑù":"multimodal"===a?"Î©ÄÌã∞Î™®Îã¨ ÏúµÌï©":"ÏûêÎèô Î∂ÑÏÑù"})]})]}),_.jsxs("div",{className:"mt-6",children:[_.jsxs("div",{className:"flex justify-between text-xs mb-2",style:{color:L.secondary},children:[_.jsx("span",{className:"uppercase tracking-wider font-semibold",children:"Confidence"}),_.jsxs("span",{className:"font-mono font-bold",children:[Math.round(100*i),"%"]})]}),_.jsx("div",{className:"h-2.5 bg-gray-100 rounded-full overflow-hidden",children:_.jsx("div",{className:"h-full rounded-full transition-all duration-500",style:{width:100*i+"%",background:`linear-gradient(90deg, ${L.accent} 0%, ${L.accent}CC 100%)`}})})]})]}),_.jsxs("div",{className:"p-8 rounded-2xl border shadow-lg bg-white",style:{borderColor:`${L.accent}20`},children:[_.jsx("h2",{className:"text-xs font-semibold mb-6 uppercase tracking-widest",style:{color:L.secondary},children:"Text Emotion Analysis"}),_.jsx("textarea",{value:u,onChange:e=>m(e.target.value),placeholder:"Í∞êÏ†ïÏùÑ Îã¥ÏùÄ ÌÖçÏä§Ìä∏Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî...\nÏòà: Ïò§Îäò ÎÑàÎ¨¥ Ïä§Ìä∏Î†àÏä§ Î∞õÏïÑÏÑú ÌûòÎì§Ïñ¥Ïöî",className:"w-full h-32 p-4 rounded-xl bg-gray-50 border-2 resize-none focus:outline-none focus:ring-2 transition-all",style:{borderColor:L.accent+"30",color:L.text}}),_.jsx("button",{onClick:W,disabled:!u.trim(),className:"mt-4 w-full py-3.5 rounded-xl text-white font-semibold transition-all duration-200 disabled:opacity-40 disabled:cursor-not-allowed hover:scale-[1.02] hover:shadow-lg active:scale-[0.98]",style:{background:u.trim()?`linear-gradient(135deg, ${L.accent} 0%, ${L.accent}DD 100%)`:"#E5E7EB"},children:"Î∂ÑÏÑùÌïòÍ∏∞"})]}),_.jsxs("div",{className:"p-8 rounded-2xl border shadow-lg bg-white",style:{borderColor:`${L.accent}20`},children:[_.jsxs("div",{className:"flex items-center justify-between mb-6",children:[_.jsx("h2",{className:"text-xs font-semibold uppercase tracking-widest",style:{color:L.secondary},children:"Manual Selection"}),"manual"===a&&_.jsx("button",{onClick:X,className:"text-xs font-semibold uppercase tracking-wider transition-colors hover:underline",style:{color:L.accent},children:"Auto Mode"})]}),_.jsx("div",{className:"grid grid-cols-4 gap-3",children:Object.keys(s).map(t=>_.jsxs("button",{onClick:()=>U(t),className:`\n                      p-4 rounded-xl text-center transition-all duration-200\n                      hover:scale-105 hover:shadow-lg\n                      ${e===t?"ring-2 ring-offset-2":"hover:bg-gray-50"}\n                    `,style:{background:e===t?`${n[t].accent}15`:"#FAFAFA",border:e===t?`2px solid ${n[t].accent}`:"1px solid #E5E7EB",ringColor:n[t].accent},children:[_.jsx("div",{className:"text-2xl mb-2",children:"neutral"===t?"üçÉ":"happy"===t?"‚òÄÔ∏è":"excited"===t?"‚ú®":"stressed"===t?"‚ö°":"anxious"===t?"üí®":"sad"===t?"üåßÔ∏è":"anger"===t?"üî•":"fear"===t?"‚òÇÔ∏è":"surprise"===t?"‚≠ê":"meditation"===t?"üå∏":"fatigue"===t?"üåô":"üå´Ô∏è"}),_.jsx("div",{className:"text-xs font-semibold",style:{color:n[t].text},children:s[t]})]},t))})]})]}),_.jsxs("section",{className:"space-y-6",children:[_.jsxs("div",{className:"p-8 rounded-2xl border shadow-lg bg-white",style:{borderColor:`${L.accent}20`},children:[_.jsx("h2",{className:"text-xs font-semibold mb-6 uppercase tracking-widest",style:{color:L.secondary},children:"Behavior Metrics"}),l?_.jsxs("div",{className:"space-y-5",children:[_.jsx(V,{label:"ÎßàÏö∞Ïä§ ÏÜçÎèÑ",value:l.mouseSpeed,max:1e3,unit:"px/s",color:L.accent}),_.jsx(V,{label:"Ïä§ÌÅ¨Î°§ ÏÜçÎèÑ",value:l.scrollSpeed,max:2e3,unit:"px/s",color:L.accent}),_.jsx(V,{label:"ÌÅ¥Î¶≠ ÎπàÎèÑ",value:l.clickFrequency,max:60,unit:"clicks/min",color:L.accent}),_.jsx(V,{label:"Ï≤¥Î•ò ÏãúÍ∞Ñ",value:l.dwellTime/1e3,max:300,unit:"Ï¥à",color:L.accent}),_.jsx(V,{label:"ÎßùÏÑ§ÏûÑ ÏãúÍ∞Ñ",value:l.hesitationTime/1e3,max:10,unit:"Ï¥à",color:L.accent})]}):_.jsxs("div",{className:"text-center py-12",style:{color:L.secondary},children:[_.jsx("div",{className:"text-4xl mb-3",children:"üìä"}),_.jsx("p",{className:"text-sm",children:"Ï∂îÏ†ÅÏùÑ ÏãúÏûëÌïòÎ©¥ Î©îÌä∏Î¶≠Ïù¥ ÌëúÏãúÎê©ÎãàÎã§"})]})]}),_.jsxs("div",{className:"p-8 rounded-2xl border shadow-lg bg-white",style:{borderColor:`${L.accent}20`},children:[_.jsx("h2",{className:"text-xs font-semibold mb-6 uppercase tracking-widest",style:{color:L.secondary},children:"UI Components Preview"}),_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{children:[_.jsx("div",{className:"text-xs font-semibold mb-3 uppercase tracking-wider",style:{color:L.secondary},children:"Badge Variants"}),_.jsxs("div",{className:"flex flex-wrap gap-3",children:[_.jsx(B,{emotion:e,score:.85,variant:"filled"}),_.jsx(B,{emotion:e,score:.85,variant:"outline"}),_.jsx(B,{emotion:e,score:.85,variant:"subtle"})]})]}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("button",{onClick:()=>p(!0),className:"px-5 py-2.5 rounded-lg text-sm font-semibold text-white transition-all hover:scale-105 hover:shadow-lg",style:{background:`linear-gradient(135deg, ${L.accent} 0%, ${L.accent}DD 100%)`},children:"Overlay Test"}),_.jsx("button",{onClick:()=>f(!0),className:"px-5 py-2.5 rounded-lg text-sm font-semibold border-2 transition-all hover:bg-gray-50",style:{borderColor:L.accent,color:L.accent},children:"Toast Test"})]})]})]}),_.jsxs("div",{className:"p-8 rounded-2xl border shadow-lg bg-white",style:{borderColor:`${L.accent}20`},children:[_.jsx("h2",{className:"text-xs font-semibold mb-6 uppercase tracking-widest",style:{color:L.secondary},children:"Theme Colors"}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsx(J,{label:"Background",color:L.background}),_.jsx(J,{label:"Accent",color:L.accent}),_.jsx(J,{label:"Text",color:L.text}),_.jsx(J,{label:"Secondary",color:L.secondary})]})]})]})]}),_.jsx("section",{className:"mt-12",children:_.jsxs("div",{className:"p-8 rounded-2xl border shadow-lg bg-white",style:{borderColor:`${L.accent}20`},children:[_.jsxs("div",{className:"flex items-center justify-between mb-6",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"text-xs font-semibold uppercase tracking-widest mb-2",style:{color:L.secondary},children:"Accuracy Benchmark"}),_.jsx("p",{className:"text-sm text-gray-600",children:"Ïã§ÏãúÍ∞Ñ Ï†ïÌôïÎèÑ Í≤ÄÏ¶ù (Ìà¨ÏûêÏûê/Í≥†Í∞ùÏö©)"})]}),_.jsx("button",{onClick:G,disabled:$,className:`\n                  px-6 py-3 rounded-lg text-sm font-semibold\n                  transition-all duration-200 shadow-md\n                  ${$?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-emerald-500 to-teal-600 text-white hover:from-emerald-600 hover:to-teal-700"}\n                `,children:$?_.jsxs("span",{className:"flex items-center gap-2",children:[_.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[_.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),_.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Í≤ÄÏ¶ù Ï§ë..."]}):"Ï†ïÌôïÎèÑ Í≤ÄÏ¶ù ÏãúÏûë"})]}),T&&_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[_.jsxs("div",{className:"p-6 rounded-xl bg-gradient-to-br from-emerald-50 to-teal-50 border border-emerald-200",children:[_.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider text-emerald-600 mb-2",children:"Ï†ÑÏ≤¥ Ï†ïÌôïÎèÑ"}),_.jsx("div",{className:"text-4xl font-bold text-emerald-700",children:T.accuracy}),_.jsxs("div",{className:"text-xs text-emerald-600 mt-1",children:[T.passed,"/",T.totalTests," ÌÜµÍ≥º"]})]}),_.jsxs("div",{className:"p-6 rounded-xl bg-gradient-to-br from-blue-50 to-indigo-50 border border-blue-200",children:[_.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider text-blue-600 mb-2",children:"ÌïúÍµ≠Ïñ¥"}),_.jsx("div",{className:"text-4xl font-bold text-blue-700",children:T.byLanguage.ko.accuracy}),_.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:[T.byLanguage.ko.passed,"/",T.byLanguage.ko.total," ÌÜµÍ≥º"]})]}),_.jsxs("div",{className:"p-6 rounded-xl bg-gradient-to-br from-purple-50 to-pink-50 border border-purple-200",children:[_.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider text-purple-600 mb-2",children:"English"}),_.jsx("div",{className:"text-4xl font-bold text-purple-700",children:T.byLanguage.en.accuracy}),_.jsxs("div",{className:"text-xs text-purple-600 mt-1",children:[T.byLanguage.en.passed,"/",T.byLanguage.en.total," ÌÜµÍ≥º"]})]})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider text-gray-600 mb-4",children:"Ïπ¥ÌÖåÍ≥†Î¶¨Î≥Ñ Ï†ïÌôïÎèÑ"}),_.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(T.byCategory).map(([e,t])=>_.jsxs("div",{className:"p-4 rounded-lg bg-gray-50 border border-gray-200",children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsx("span",{className:"text-sm font-medium text-gray-700 capitalize",children:e}),_.jsx("span",{className:"text-lg font-bold",style:{color:L.accent},children:t.accuracy})]}),_.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[t.passed,"/",t.total," ÌÜµÍ≥º"]})]},e))})]}),T.failed.length>0&&_.jsxs("div",{children:[_.jsxs("h3",{className:"text-xs font-semibold uppercase tracking-wider text-red-600 mb-4",children:["Ïã§Ìå®Ìïú ÏºÄÏù¥Ïä§ (",T.failed.length,"Í∞ú)"]}),_.jsx("div",{className:"space-y-2",children:T.failed.map((e,t)=>_.jsxs("div",{className:"p-4 rounded-lg bg-red-50 border border-red-200",children:[_.jsxs("div",{className:"text-sm font-medium text-gray-800 mb-2",children:['"',e.text,'"']}),_.jsxs("div",{className:"flex gap-4 text-xs",children:[_.jsxs("span",{className:"text-red-600",children:["ÏòàÏ∏°: ",_.jsx("strong",{children:e.predicted})]}),_.jsxs("span",{className:"text-green-600",children:["Ï†ïÎãµ: ",_.jsx("strong",{children:e.expected})]}),_.jsxs("span",{className:"text-gray-500",children:["Ïã†Î¢∞ÎèÑ: ",Math.round(100*e.confidence),"%"]})]})]},t))})]}),_.jsxs("div",{className:"text-xs text-gray-400 text-right",children:["Í≤ÄÏ¶ù ÏãúÍ∞Å: ",new Date(T.timestamp).toLocaleString("ko-KR")]})]}),!T&&!$&&_.jsxs("div",{className:"text-center py-12 text-gray-400",children:[_.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),_.jsx("p",{className:"text-sm",children:"Ï†ïÌôïÎèÑ Í≤ÄÏ¶ùÏùÑ ÏãúÏûëÌïòÎ†§Î©¥ ÏúÑ Î≤ÑÌäºÏùÑ ÌÅ¥Î¶≠ÌïòÏÑ∏Ïöî"})]})]})})]}),_.jsx(I,{emotion:e,confidence:i,source:a,onSelectEmotion:U,showConfidence:!0,size:"md",position:"bottom-right"}),_.jsx(q,{enabled:k,position:"bottom-left",isNewUser:!1}),_.jsx(z,{fromEmotion:x,toEmotion:e,confidence:i,isVisible:h,onClose:()=>p(!1),duration:3e3}),_.jsx(K,{fromEmotion:x,toEmotion:e,isVisible:g,onClose:()=>f(!1),position:"top"})]})},e.EmotionEngine=u,e.EmotionFeedback=q,e.EmotionMatchIndicator=({score:e,emotion:t,showLabel:s=!0,size:r="md",className:i=""})=>{const o=n[t]||n.neutral,a=Math.round(100*e);return _.jsxs("div",{className:`w-full ${i}`,children:[s&&_.jsxs("div",{className:"flex justify-between items-center mb-1",children:[_.jsx("span",{className:"text-gray-500",style:{fontSize:"sm"===r?"10px":"11px"},children:"Í∞êÏ†ï Îß§Ïπ≠"}),_.jsxs("span",{className:"font-medium",style:{color:o.accent,fontSize:"sm"===r?"10px":"11px"},children:[a,"%"]})]}),_.jsx("div",{className:`w-full bg-gray-100 rounded-full overflow-hidden ${{sm:"h-1 text-[10px]",md:"h-1.5 text-xs"}[r]}`,children:_.jsx("div",{className:"h-full rounded-full transition-all duration-500",style:{width:`${a}%`,background:o.accent}})})]})},e.EmotionOverlay=z,e.EmotionPulse=I,e.EmotionTransitionToast=K,e.Hysteresis=c,e.MultimodalFusion=N,e.SDK_DESCRIPTION="Ïª§Î®∏Ïä§ ÌäπÌôî Í∞êÏ†ï Ïù∏ÌÖîÎ¶¨Ï†ÑÏä§ SDK",e.SDK_NAME="@healside/emotion-sdk",e.SDK_VERSION=G,e.THEME_TRANSITION_CSS="\n  .emotion-transition-enter {\n    opacity: 0;\n    transform: scale(0.98);\n  }\n  \n  .emotion-transition-enter-active {\n    opacity: 1;\n    transform: scale(1);\n    transition: opacity 1.2s cubic-bezier(0.4, 0, 0.2, 1),\n                transform 1.2s cubic-bezier(0.4, 0, 0.2, 1);\n  }\n  \n  .emotion-transition-exit {\n    opacity: 1;\n  }\n  \n  .emotion-transition-exit-active {\n    opacity: 0;\n    transition: opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1);\n  }\n",e.TextAnalyzer=E,e.default=X,e.emotionEngine=m,e.getTheme=r,e.getThemeCSSVariables=function(e){const t=r(e);return`\n    --emotion-bg: ${t.background};\n    --emotion-accent: ${t.accent};\n    --emotion-text: ${t.text};\n    --emotion-secondary: ${t.secondary};\n    --emotion-gradient: ${t.gradient};\n  `},e.printSDKInfo=function(){console.log(`\n‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó\n‚ïë                                                              ‚ïë\n‚ïë   üß† Healside Emotion SDK v${G}                          ‚ïë\n‚ïë   "ÎãπÏã†Ïùò ÏáºÌïëÎ™∞Ïóê Í∞êÏ†ïÏùÑ ÏûÖÌûàÏÑ∏Ïöî"                          ‚ïë\n‚ïë                                                              ‚ïë\n‚ïë   Features:                                                  ‚ïë\n‚ïë   ‚îú‚îÄ‚îÄ ÌñâÎèô Ï∂îÏ†Å (ÎßàÏö∞Ïä§/Ïä§ÌÅ¨Î°§/ÌÅ¥Î¶≠)                         ‚ïë\n‚ïë   ‚îú‚îÄ‚îÄ ÌÖçÏä§Ìä∏ Í∞êÏ†ï Î∂ÑÏÑù                                       ‚ïë\n‚ïë   ‚îú‚îÄ‚îÄ Î©ÄÌã∞Î™®Îã¨ ÏúµÌï©                                          ‚ïë\n‚ïë   ‚îú‚îÄ‚îÄ ÌûàÏä§ÌÖåÎ¶¨ÏãúÏä§ ÏïàÏ†ïÌôî                                    ‚ïë\n‚ïë   ‚îî‚îÄ‚îÄ Ï≤¥Í∞ê UI Ïª¥Ìè¨ÎÑåÌä∏                                       ‚ïë\n‚ïë                                                              ‚ïë\n‚ïë   ¬© 2024 Healside. Patent Pending.                           ‚ïë\n‚ïë                                                              ‚ïë\n‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù\n  `)},e.useEmotion=function(e={}){const{autoSubscribe:n=!0}=e,[s,r]=t.useState(m.getState()),[i,o]=t.useState(m.getBehaviorMetrics());t.useEffect(()=>{if(!n)return;const e=m.subscribe(e=>{r(e)}),t=setInterval(()=>{o(m.getBehaviorMetrics())},1e3);return()=>{e(),clearInterval(t)}},[n]);const a=t.useCallback(e=>{m.setEmotion(e)},[]),c=t.useCallback(async e=>m.analyzeText(e),[]),l=t.useCallback(e=>m.getProductScore(e),[]),d=t.useCallback(e=>m.getProductScores(e),[]),u=t.useCallback(()=>{m.enable()},[]),h=t.useCallback(()=>{m.disable()},[]),p=t.useMemo(()=>m.getTheme(),[s.emotion]),g=m.isEnabled();return{emotion:s.emotion,confidence:s.confidence,state:s,theme:p,setEmotion:a,analyzeText:c,getProductScore:l,getProductScores:d,behaviorMetrics:i,isEnabled:g,enable:u,disable:h}},e.useEmotionInit=function(e){t.useEffect(()=>(m.init(e),()=>{m.destroy()}),[e.apiKey])},e.useEmotionTheme=function(){const[e,n]=t.useState(m.getTheme());return t.useEffect(()=>m.subscribe(e=>{n(m.getTheme())}),[]),e},e.useFeedback=Y,e.useProductEmotionScore=function(e){const[n,s]=t.useState({productId:e,score:.5,matchReason:"",emotionTags:[]});return t.useEffect(()=>{const t=m.subscribe(()=>{const t=m.getProductScores([e]);t.length>0&&s(t[0])}),n=m.getProductScores([e]);return n.length>0&&s(n[0]),t},[e]),{score:n.score,matchReason:n.matchReason,emotionTags:n.emotionTags}},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=index.umd.js.map
